<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solution Makers - Elite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --p: #fbbf24; --bg: #0f172a; --accent: #6366f1; }
        body { font-family: 'Cairo', sans-serif; background: var(--bg); color: white; overflow: hidden; height: 100vh; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .page { position: absolute; inset: 0; padding: 20px; display: none; flex-direction: column; animation: fadeIn 0.5s ease; overflow-y: auto; padding-bottom: 110px; }
        .active-page { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .nav-btn { opacity: 0.4; transition: 0.3s; color: white; }
        .nav-active { opacity: 1; color: var(--p); transform: translateY(-5px); filter: drop-shadow(0 0 8px var(--p)); }
        #board { background: #1e293b; border-radius: 25px; touch-action: none; border: 2px solid rgba(251, 191, 36, 0.2); }
        .btn-gold { background: linear-gradient(to right, #fbbf24, #f59e0b); color: #000; font-weight: 900; }
        .toast { position: fixed; top: -100px; left: 50%; transform: translateX(-50%); transition: 0.5s cubic-bezier(0.17, 0.89, 0.32, 1.28); z-index: 9999; }
        .toast.show { top: 25px; }
    </style>
</head>
<body>
    <div id="toast" class="toast glass px-8 py-4 rounded-full border-yellow-500/50 shadow-[0_0_30px_rgba(251,191,36,0.2)]">âœ¨ <span id="msg"></span></div>
    <div id="p-login" class="page active-page items-center justify-center text-center">
        <div class="w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-600 rounded-[35px] flex items-center justify-center mb-8 shadow-2xl animate-bounce text-4xl">ğŸ‡´ğŸ‡²</div>
        <h1 class="text-4xl font-black mb-2 font-['Orbitron'] tracking-widest text-yellow-400">SOLUTION MAKERS</h1>
        <p class="text-slate-400 mb-10 text-sm tracking-[3px]">ELITE EDUCATION PLATFORM</p>
        <input id="u-name" type="text" class="w-full max-w-xs bg-white/5 border-2 border-white/10 p-5 rounded-3xl text-center outline-none focus:border-yellow-500 transition-all text-lg mb-6" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¨Ø¯Ø¹/Ù€Ø©">
        <button onclick="login()" class="w-full max-w-xs btn-gold py-5 rounded-3xl text-xl shadow-[0_10px_40px_rgba(245,158,11,0.3)]">Ø§Ù†Ø·Ù„Ø§Ù‚ Ø§Ù„Ø¢Ù†</button>
    </div>

    <div id="p-home" class="page">
        <header class="flex justify-between items-center mb-8">
            <div class="flex items-center gap-4">
                <div id="av" class="w-14 h-14 rounded-2xl btn-gold flex items-center justify-center text-2xl shadow-lg"></div>
                <div><p class="text-[10px] opacity-50 uppercase tracking-widest">Welcome Leader</p><p id="nb" class="font-black text-xl text-yellow-500"></p></div>
            </div>
            <div class="glass px-5 py-2 rounded-2xl text-yellow-400 font-black border-yellow-500/30">â­ <span id="xp">0</span></div>
        </header>
        <div class="glass p-10 rounded-[50px] text-center mb-8 border-yellow-500/10">
            <div id="timer" class="text-7xl font-['Orbitron'] font-black mb-8 text-white drop-shadow-2xl">25:00</div>
            <button id="t-btn" onclick="runTimer()" class="w-full btn-gold py-5 rounded-3xl uppercase tracking-widest text-sm">Ø§Ø¨Ø¯Ø£ Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ±ÙƒÙŠØ²</button>
        </div>
        <div class="space-y-4">
            <h3 class="font-black text-yellow-500/70 text-xs uppercase tracking-widest px-2">Ù…Ù‡Ù…Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø¹Ø¸ÙŠÙ…Ø©</h3>
            <div class="glass p-4 rounded-3xl flex gap-3 border-white/5">
                <input id="ti" type="text" class="bg-transparent flex-grow px-2 outline-none text-sm" placeholder="Ø£Ø¶Ù ØªØ­Ø¯ÙŠØ§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹...">
                <button onclick="addTask()" class="btn-gold w-12 h-12 rounded-2xl text-2xl">+</button>
            </div>
            <div id="tl" class="space-y-3 pb-10"></div>
        </div>
    </div>

    <div id="p-board" class="page">
        <h2 class="text-2xl font-black mb-6 text-yellow-400">Ø³Ø¨ÙˆØ±Ø© Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ ğŸ¨</h2>
        <canvas id="board" class="w-full h-[450px] mb-6 shadow-2xl"></canvas>
        <div class="flex flex-wrap gap-3 justify-center glass p-4 rounded-3xl">
            <button onclick="setTool('pen')" class="p-4 rounded-2xl glass hover:bg-yellow-500/20 transition">âœï¸</button>
            <button onclick="setTool('eraser')" class="p-4 rounded-2xl glass hover:bg-red-500/20 transition">ğŸ§¼</button>
            <input type="color" id="color" onchange="col=this.value" class="w-12 h-12 rounded-xl bg-transparent border-none cursor-pointer">
            <button onclick="clearBoard()" class="px-6 rounded-2xl glass text-xs font-bold text-red-400">Ù…Ø³Ø­</button>
            <button onclick="saveBoard()" class="btn-gold px-8 py-4 rounded-2xl text-xs">Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„</button>
        </div>
    </div>
    <div id="p-shop" class="page">
        <h2 class="text-3xl font-black mb-8 text-yellow-500">Ø³ÙˆÙ‚ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª ğŸ</h2>
        <div class="grid gap-4">
            <div class="glass p-6 rounded-[35px] flex justify-between items-center border-yellow-500/20">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-2xl bg-yellow-500/10 flex items-center justify-center text-2xl">ğŸ¥‡</div>
                    <div><p class="font-black text-sm text-yellow-500">ÙˆØ³Ø§Ù… Ø§Ù„Ø¹Ø¨Ù‚Ø±ÙŠØ©</p><p class="text-[10px] opacity-40">5000 Ù†Ù‚Ø·Ø©</p></div>
                </div>
                <button onclick="buy(5000,'ÙˆØ³Ø§Ù… Ø§Ù„Ø¹Ø¨Ù‚Ø±ÙŠØ©')" class="btn-gold px-6 py-2 rounded-xl text-[10px]">Ø§Ø³ØªØ¨Ø¯Ø§Ù„</button>
            </div>
            <div class="glass p-6 rounded-[35px] flex justify-between items-center border-indigo-500/20">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-2xl bg-indigo-500/10 flex items-center justify-center text-2xl">ğŸŒˆ</div>
                    <div><p class="font-black text-sm text-indigo-400">Ø«ÙŠÙ… Ø§Ù„Ù…Ø¬Ø±Ø©</p><p class="text-[10px] opacity-40">2000 Ù†Ù‚Ø·Ø©</p></div>
                </div>
                <button onclick="buy(2000,'Ø«ÙŠÙ… Ø§Ù„Ù…Ø¬Ø±Ø©')" class="btn-gold px-6 py-2 rounded-xl text-[10px]">Ø§Ø³ØªØ¨Ø¯Ø§Ù„</button>
            </div>
        </div>
    </div>

    <div id="p-stat" class="page">
        <h2 class="text-3xl font-black mb-8 text-yellow-500">Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù ğŸ“Š</h2>
        <div class="grid grid-cols-2 gap-4 mb-8">
            <div class="glass p-8 rounded-[40px] text-center border-yellow-500/10">
                <p class="text-[10px] opacity-40 uppercase mb-2">Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ</p>
                <div id="dc" class="text-4xl font-black text-yellow-500">0</div>
            </div>
            <div class="glass p-8 rounded-[40px] text-center border-yellow-500/10">
                <p class="text-[10px] opacity-40 uppercase mb-2">Ù‚ÙˆØ© Ø§Ù„ØªØ±ÙƒÙŠØ²</p>
                <div id="xps" class="text-4xl font-black text-indigo-400">0</div>
            </div>
        </div>
        <div class="glass p-8 rounded-[40px] relative overflow-hidden">
            <div class="flex justify-between text-xs font-bold mb-4 opacity-60"><span>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ·ÙˆØ±</span><span id="p-text">0%</span></div>
            <div class="h-4 bg-white/5 rounded-full overflow-hidden border border-white/5">
                <div id="bar" class="h-full bg-gradient-to-r from-yellow-500 to-orange-500 w-0 transition-all duration-1000"></div>
            </div>
        </div>
    </div>

    <nav class="fixed bottom-8 left-1/2 -translate-x-1/2 w-[92%] h-22 glass rounded-[40px] flex justify-around items-center px-4 z-50 border-white/10 shadow-2xl">
        <button onclick="nav('home')" id="n-home" class="nav-btn nav-active text-2xl">ğŸ </button>
        <button onclick="nav('board')" id="n-board" class="nav-btn text-2xl">ğŸ¨</button>
        <button onclick="nav('stat')" id="n-stat" class="nav-btn text-2xl">ğŸ“Š</button>
        <button onclick="nav('shop')" id="n-shop" class="nav-btn text-2xl">ğŸ</button>
    </nav>
    <script>
        let xp = parseInt(localStorage.getItem('xp')) || 0;
        let done = parseInt(localStorage.getItem('done')) || 0;
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        let t = null, sec = 1500, col = '#fbbf24', tool = 'pen', canvas, ctx, drawing = false;

        function notify(m) {
            const t = document.getElementById('toast');
            document.getElementById('msg').innerText = m;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        function save() {
            localStorage.setItem('xp', xp);
            localStorage.setItem('done', done);
            localStorage.setItem('tasks', JSON.stringify(tasks));
            document.getElementById('xp').innerText = xp;
            document.getElementById('xps').innerText = xp;
            document.getElementById('dc').innerText = done;
            let p = Math.min(done*10, 100);
            document.getElementById('bar').style.width = p + '%';
            document.getElementById('p-text').innerText = p + '%';
        }

        function login() {
            const n = document.getElementById('u-name').value;
            if(!n) return notify("Ø§Ù„Ù‚Ø§Ø¦Ø¯ ÙŠØ­ØªØ§Ø¬ Ù„Ø§Ø³Ù…Ù‡ Ø£ÙˆÙ„Ø§Ù‹!");
            localStorage.setItem('name', n);
            document.getElementById('nb').innerText = n;
            document.getElementById('av').innerText = n[0].toUpperCase();
            document.getElementById('p-login').classList.remove('active-page');
            nav('home');
            save();
            initBoard();
        }

        function nav(p) {
            document.querySelectorAll('.page').forEach(e => e.classList.remove('active-page'));
            document.getElementById('p-' + p).classList.add('active-page');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('nav-active'));
            document.getElementById('n-' + p).classList.add('nav-active');
        }

        function runTimer() {
            const b = document.getElementById('t-btn');
            if(t) { clearInterval(t); t = null; b.innerText = "Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ø¬Ù„Ø³Ø©"; }
            else {
                b.innerText = "ØªÙˆÙ‚Ù Ù…Ø¤Ù‚Øª";
                t = setInterval(() => {
                    sec--;
                    let m = Math.floor(sec/60), s = sec%60;
                    document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
                    if(sec <= 0) {
                        clearInterval(t); confetti({particleCount: 200, spread: 70, origin: {y: 0.6}}); 
                        xp += 500; save(); notify("ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²! +500 Ù†Ù‚Ø·Ø© Ø´Ø±Ù"); sec = 1500;
                    }
                }, 1000);
            }
        }

        function addTask() {
            const v = document.getElementById('ti').value;
            if(!v) return;
            tasks.push({id: Date.now(), text: v});
            document.getElementById('ti').value = "";
            renderTasks(); save();
        }

        function renderTasks() {
            const l = document.getElementById('tl'); l.innerHTML = "";
            tasks.forEach(t => {
                const i = document.createElement('div');
                i.className = "glass p-5 rounded-3xl flex justify-between items-center animate-fadeIn border-white/5";
                i.innerHTML = `<span class="font-bold text-sm">${t.text}</span><button onclick="completeTask(${t.id})" class="btn-gold px-5 py-2 rounded-xl text-[10px]">ØªÙ…</button>`;
                l.prepend(i);
            });
        }

        function completeTask(id) {
            confetti({ particleCount: 100, origin: {y: 0.8} });
            tasks = tasks.filter(t => t.id !== id);
            done++; xp += 150; renderTasks(); save(); notify("Ù…Ù‡Ù…Ø© Ù†Ø§Ø¬Ø­Ø©! +150 Ù†Ù‚Ø·Ø©");
        }

        function buy(c, n) {
            if(xp >= c) { xp -= c; save(); confetti(); notify(`Ù…Ø¨Ø±ÙˆÙƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ${n}`); }
            else notify("Ù†Ù‚Ø§Ø·Ùƒ Ù„Ø§ ØªÙƒÙÙŠ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²!");
        }

        function initBoard() {
            canvas = document.getElementById('board');
            ctx = canvas.getContext('2d');
            canvas.width = canvas.parentElement.clientWidth - 40;
            canvas.height = 450;
            ctx.lineCap = 'round'; ctx.lineWidth = 4;
            canvas.onpointerdown = (e) => { drawing = true; ctx.beginPath(); ctx.moveTo(e.offsetX, e.offsetY); };
            canvas.onpointermove = (e) => {
                if(!drawing) return;
                ctx.strokeStyle = tool === 'eraser' ? '#1e293b' : col;
                ctx.lineWidth = tool === 'eraser' ? 30 : 4;
                ctx.lineTo(e.offsetX, e.offsetY); ctx.stroke();
            };
            canvas.onpointerup = () => drawing = false;
        }

        function setTool(t) { tool = t; notify(t === 'pen' ? "Ù‚Ù„Ù… Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø¬Ø§Ù‡Ø²" : "Ø§Ù„Ù…Ù…Ø­Ø§Ø© Ø¬Ø§Ù‡Ø²Ø©"); }
        function clearBoard() { ctx.clearRect(0,0,canvas.width,canvas.height); notify("ØªÙ… ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø³Ø¨ÙˆØ±Ø©"); }
        function saveBoard() {
            const link = document.createElement('a');
            link.download = 'Solution-Makers-Summary.png';
            link.href = canvas.toDataURL();
            link.click();
            notify("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙÙŠ Ø¬Ù‡Ø§Ø²Ùƒ!");
        }

        window.onload = () => {
            if(localStorage.getItem('name')) {
                document.getElementById('u-name').value = localStorage.getItem('name');
                login();
            }
            renderTasks(); save();
        };
    </script>
</body>
</html>

